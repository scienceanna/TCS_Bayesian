library(tidyverse)
source("/scripts/import_and_tidy.R")
source("analysis_revised/scripts/import_and_tidy.R")
source("analysis_revised/scripts/import_and_tidy.R")
source("analysis_revised/scripts/import_and_tidy.R")
source("analysis_revised/scripts/import_and_tidy.R")
source("analysis_revised/scripts/import_and_tidy.R")
d
hist(d$rt)
hist(exp(d$rt))
hist(log(d$rt))
hist(rlnorm(1000, 6, 1))
exp(6)
hist(d$rt)
hist(rlnorm(1000, 6, 2))
hist(rlnorm(1000, 6, 1.1))
hist(rlnorm(1000, 5.5, 1.1))
hist(rlnorm(1000, 5.5, 1.1))
hist(rlnorm(1000, 5.5, 1.1))
hist(rlnorm(1000, 5.5, 1.1))
hist(rlnorm(1000, 5.5, 1))
mean(log(d$rt))
summary(d)
d <- filter(d, rt >0)
mean(log(d$rt))
sd(log(d$rt))
mu <- 6.315
sigma <- 0.319
do_calc <- function(n, mu, sigma) {
samples <- rlnorm(n, mu, sigma)
return(tibble(n = n,
mean_rt = mean(samples),
mean_log_rt = mean(log(samples)),
median_rt = median(samples)))
}
d <- map_dfr(rep(seq(6,40, by = 2), each = 1000), do_calc, mu, sigma)
gt <- tibble(summary = c("mean_log_rt", "mean_rt", "median_rt"),
ground_truth = c(0, exp(mu + (sigma^2)/2), 1))
d %>% pivot_longer(-n, names_to = "summary", values_to = "stat") %>%
full_join(gt) -> d
d %>%
ggplot(aes(n, stat)) +
tidybayes::stat_lineribbon(alpha = 0.5) +
facet_wrap(~summary, scales = "free") +
geom_hline(data = gt, aes(yintercept = stat), linetype = 2)
d
summary(d)
d %>%
ggplot(aes(n, stat)) +
tidybayes::stat_lineribbon(alpha = 0.5) +
facet_wrap(~summary, scales = "free")
d %>% mutate(abs_err = abs(stat - ground_truth)) %>%
ggplot(aes(n, abs_err)) +
tidybayes::stat_lineribbon(alpha = 0.5) +
facet_wrap(~summary)
gt <- tibble(summary = c("mean_log_rt", "mean_rt", "median_rt"),
ground_truth = c(0, exp(mu + (sigma^2)/2), 6.3))
d %>% pivot_longer(-n, names_to = "summary", values_to = "stat") %>%
full_join(gt) -> d
d <- map_dfr(rep(seq(6,40, by = 2), each = 1000), do_calc, mu, sigma)
gt <- tibble(summary = c("mean_log_rt", "mean_rt", "median_rt"),
ground_truth = c(0, exp(mu + (sigma^2)/2), 6.3))
d %>% pivot_longer(-n, names_to = "summary", values_to = "stat") %>%
full_join(gt) -> d
d %>%
ggplot(aes(n, stat)) +
tidybayes::stat_lineribbon(alpha = 0.5) +
facet_wrap(~summary, scales = "free") +
geom_hline(data = gt, aes(yintercept = stat), linetype = 2)
d %>% mutate(abs_err = abs(stat - ground_truth)) %>%
ggplot(aes(n, abs_err)) +
tidybayes::stat_lineribbon(alpha = 0.5)
d %>% mutate(abs_err = abs(stat - ground_truth)) %>%
ggplot(aes(n, abs_err)) +
tidybayes::stat_lineribbon(alpha = 0.5) +
facet_wrap(~summary)
d %>% pivot_longer(-n, names_to = "summary", values_to = "stat") %>%
full_join(gt) -> d
d <- map_dfr(rep(seq(6,40, by = 2), each = 1000), do_calc, mu, sigma)
gt <- tibble(summary = c("mean_log_rt", "mean_rt", "median_rt"),
ground_truth = c(0, exp(mu + (sigma^2)/2), 6.3))
d %>% pivot_longer(-n, names_to = "summary", values_to = "stat") %>%
full_join(gt) -> d
d
d %>% mutate(abs_err = abs(stat - ground_truth)) %>%
ggplot(aes(n, abs_err)) +
tidybayes::stat_lineribbon(alpha = 0.5) +
facet_wrap(~summary)
d %>%
ggplot(aes(n, stat)) +
tidybayes::stat_lineribbon(alpha = 0.5) +
facet_wrap(~summary, scales = "free") +
geom_hline(data = gt, aes(yintercept = stat), linetype = 2)
d %>%
ggplot(aes(n, stat)) +
tidybayes::stat_lineribbon(alpha = 0.5) +
facet_wrap(~summary, scales = "free") +
geom_hline(data = gt, aes(yintercept = ground_truth), linetype = 2)
