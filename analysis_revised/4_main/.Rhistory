source("~/Documents/ongoing projects/APP_VS/analysis_revised/4_main/5_target_ecc.R", echo=TRUE)
source("~/Documents/ongoing projects/APP_VS/analysis_revised/4_main/5_target_ecc.R", echo=TRUE)
source("~/Documents/ongoing projects/APP_VS/analysis_revised/4_main/5_target_ecc.R", echo=TRUE)
source("~/Documents/ongoing projects/APP_VS/analysis_revised/4_main/5_target_ecc.R", echo=TRUE)
install_cmdstan(cores = 2)
library(cmdstanr)
install_cmdstan(cores = 2)
source("~/Documents/ongoing projects/APP_VS/analysis_revised/4_main/5_target_ecc.R", echo=TRUE)
m
m <- readRDS("exp1_ring_more_random.model")
m
source("~/Documents/ongoing projects/APP_VS/analysis_revised/4_main/6_plot_rings.R", echo=TRUE)
m <- readRDS("exp1_ring_more_random.model")
source("~/Documents/ongoing projects/APP_VS/analysis_revised/4_main/6_plot_rings.R", echo=TRUE)
d %>% add_epred_draws(m)
d1 %>% add_epred_draws(m)
d1
summary(d1)
d1 %>% modelr::data_grid(feature, ring, lnd = seq(0, 3.5, 0.1))
d1 %>% modelr::data_grid(feature, ring, lnd = seq(0, 3.5, 0.1)) %>%
add_epred_draws(m, ndraws = 100)
d1 %>% modelr::data_grid(feature, ring, lnd = seq(0, 3.5, 0.1)) %>%
add_epred_draws(m, ndraws = 100, re_formula = NA)
ggplot(pred, aes(x = lnd, y = .epred, colour = ring)) +
geom_path() +
facet_wrap(~feature)
d1 %>% modelr::data_grid(feature, ring, lnd = seq(0, 3.5, 0.1)) %>%
add_epred_draws(m, ndraws = 100, re_formula = NA) -> pred
ggplot(pred, aes(x = lnd, y = .epred, colour = ring)) +
geom_path() +
facet_wrap(~feature)
ggplot(pred, aes(x = lnd, y = .epred, colour = ring, group = .draw)) +
geom_path() +
facet_wrap(~feature)
ggplot(pred, aes(x = lnd, y = .epred, colour = ring, group = .draw)) +
geom_path(alpha = 0.1) +
facet_wrap(~feature)
ggplot(pred, aes(x = lnd, y = .epred, colour = ring, group = .draw)) +
geom_path(alpha = 0.1) +
facet_wrap(~feature) +
ggthemes::scale_color_ptol()
ggsave("../plots/ring_single_feature.pdf", width = 8, height = 4)
ggsave("../../plots/ring_single_feature.pdf", width = 8, height = 4)
